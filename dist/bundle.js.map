{"version":3,"sources":["webpack:///webpack/bootstrap 09f8facda660c045273a","webpack:///./src/Sprite.ts","webpack:///./src/App.ts","webpack:///./src/Animation.ts","webpack:///./src/AssetLibrary.ts","webpack:///./src/Keyboard.ts","webpack:///./src/SpriteSheet.ts","webpack:///./src/SpriteSheetCell.ts","webpack:///./src/Tile.ts","webpack:///./src/TileGrid.ts","webpack:///./src/index.ts","webpack:///./src/data/assets.json"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 09f8facda660c045273a","import { SpriteSheetCell } from './SpriteSheetCell';\nimport { Animation } from './Animation';\n\nexport interface ISpriteParams {\n  name: string;\n  id: string;\n  x: number;\n  y: number;\n  animations: Animation[];\n};\n\nexport class Sprite {\n  readonly name: string;\n  readonly id: string;\n  private _x: number;\n  private _y: number;\n  private _frame: SpriteSheetCell;\n  private _animation: Animation|null;\n  private _animations: {[name: string]: Animation};\n  private _velocity: {x: number, y: number};\n\n  constructor(params: ISpriteParams) {\n    this.name = params.name;\n    this.id = params.id;\n    this._x = params.x;\n    this._y = params.y;\n    this._animations = {};\n    this._animation = null;\n    this._frame = null;\n    this._velocity = {x: 0, y: 0};\n\n    for(const animation of params.animations) {\n      this._animations[animation.name] = animation;\n    }\n  }\n\n  get animation() { return this._animation; }\n\n  setVelocity(x: number, y: number) {\n    this._velocity = {x, y};\n  }\n\n  move(x: number, y: number) {\n    this._x += x;\n    this._y += y;\n  }\n\n  setFrame(frame: SpriteSheetCell) {\n    this._frame = frame;\n  }\n\n  setAnimation(name: string) {\n    if(name in this._animations) {\n      this._animation = this._animations[name];\n      this._animation.reset();\n      this._animation.resume();\n\n    } else {\n      throw new Error(`invalid animation \"${name}\"`);\n    }\n  }\n\n  step() {\n    this.move(this._velocity.x, this._velocity.y);\n\n    if(this._animation) {\n      this._frame = this._animation.next();\n    }\n  }\n\n  draw(canvas: CanvasRenderingContext2D, offsx: number = 0, offsy: number = 0) {\n    if(this._frame) {\n      this._frame.drawTo(canvas, this._x + offsx, this._y + offsy);\n    }\n  }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/Sprite.ts","import { TileGrid } from './TileGrid';\nimport { Keyboard } from './Keyboard';\nimport { Animation } from './Animation';\nimport { Sprite } from './Sprite';\nimport { AssetLibrary } from './AssetLibrary';\nimport * as assets from './data/assets.json';\n\nexport class App {\n  readonly keyboard: Keyboard;\n  private _assets: AssetLibrary;\n\n  constructor() {\n    this._assets = new AssetLibrary();\n    this.keyboard = new Keyboard();\n  }\n\n  async start(context: CanvasRenderingContext2D, width: number, height: number) {\n    await this._assets.preload(assets);\n\n    const woman = new Sprite({\n      name: 'woman',\n      id: 'woman1',\n      x: 300,\n      y: 200,\n      animations: [\n        new Animation({\n          name: 'walking-north',\n          sheet: await this._assets.fetch('woman-walking-north'),\n          cells: [[0, 0], [1, 0], [2, 0], [3, 0], [0, 1], [1, 1], [2, 1], [3, 1]],\n          loop: true,\n        }),\n        new Animation({\n          name: 'walking-east',\n          sheet: await this._assets.fetch('woman-walking-east'),\n          cells: [[0, 0], [1, 0], [2, 0], [3, 0], [0, 1], [1, 1], [2, 1], [3, 1]],\n          loop: true,\n        }),\n        new Animation({\n          name: 'walking-south',\n          sheet: await this._assets.fetch('woman-walking-south'),\n          cells: [[0, 0], [1, 0], [2, 0], [3, 0], [0, 1], [1, 1], [2, 1], [3, 1]],\n          loop: true,\n        }),\n        new Animation({\n          name: 'walking-west',\n          sheet: await this._assets.fetch('woman-walking-west'),\n          cells: [[0, 0], [1, 0], [2, 0], [3, 0], [0, 1], [1, 1], [2, 1], [3, 1]],\n          loop: true,\n        }),\n      ],\n    });\n\n    const man = new Sprite({\n      name: 'man',\n      id: 'man1',\n      x: 500,\n      y: 130,\n      animations: [\n        new Animation({\n          name: 'walking-north',\n          sheet: await this._assets.fetch('man-walking-north'),\n          cells: [[0, 0], [1, 0], [2, 0], [3, 0], [0, 1], [1, 1], [2, 1], [3, 1]],\n          loop: true,\n        }),\n        new Animation({\n          name: 'walking-east',\n          sheet: await this._assets.fetch('man-walking-east'),\n          cells: [[0, 0], [1, 0], [2, 0], [3, 0], [0, 1], [1, 1], [2, 1], [3, 1]],\n          loop: true,\n        }),\n        new Animation({\n          name: 'walking-south',\n          sheet: await this._assets.fetch('man-walking-south'),\n          cells: [[0, 0], [1, 0], [2, 0], [3, 0], [0, 1], [1, 1], [2, 1], [3, 1]],\n          loop: true,\n        }),\n        new Animation({\n          name: 'walking-west',\n          sheet: await this._assets.fetch('man-walking-west'),\n          cells: [[0, 0], [1, 0], [2, 0], [3, 0], [0, 1], [1, 1], [2, 1], [3, 1]],\n          loop: true,\n        }),\n      ],\n    });\n\n    const grid = new TileGrid(\n      await this._assets.fetch('tiles'),\n      Math.floor(window.innerWidth / 2),\n      Math.floor(-window.innerHeight),\n      50, 50,\n    );\n\n    woman.setFrame((await this._assets.fetch('woman-walking-east')).get(0, 0));\n    man.setFrame((await this._assets.fetch('man-walking-south')).get(0, 0));\n\n    this.keyboard.onPress(0x41, () => {\n\n    });\n\n    this.keyboard.onPress(Keyboard.ARROW_UP, () => {\n      woman.setVelocity(2, -1);\n      woman.setAnimation('walking-north');\n    });\n\n    this.keyboard.onPress(Keyboard.ARROW_RIGHT, () => {\n      woman.setVelocity(2, 1);\n      woman.setAnimation('walking-east');\n    });\n\n    this.keyboard.onPress(Keyboard.ARROW_DOWN, () => {\n      woman.setVelocity(-2, 1);\n      woman.setAnimation('walking-south');\n    });\n\n    this.keyboard.onPress(Keyboard.ARROW_LEFT, () => {\n      woman.setVelocity(-2, -1);\n      woman.setAnimation('walking-west');\n    });\n\n    this.keyboard.onPress(Keyboard.SPACE, () => {\n      woman.setVelocity(0, 0);\n      woman.animation.reset();\n      woman.animation.pause();\n    });\n\n\n    setInterval(() => {\n      context.clearRect(0, 0, width, height);\n      grid.draw(context);\n      woman.step();\n      woman.draw(context);\n      man.draw(context);\n    }, 1000 / 10);\n  }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/App.ts","import { SpriteSheetCell } from './SpriteSheetCell';\nimport { SpriteSheet } from './SpriteSheet';\n\nexport interface IAnimationParameters {\n  name: string;\n  sheet: SpriteSheet;\n  cells: Array<[number, number]>;\n  loop: boolean;\n};\n\nexport class Animation {\n  readonly name: string;\n  private _cells: SpriteSheetCell[];\n  private _loop: boolean;\n  private _index: number;\n  private _paused: boolean;\n\n  constructor(params: IAnimationParameters) {\n    this.name = params.name;\n    this._cells = params.cells.map(c => params.sheet.get(c[0], c[1]));\n    this._loop = params.loop;\n    this._index = 0;\n    this._paused = false;\n  }\n\n  pause() {\n    this._paused = true;\n  }\n\n  resume() {\n    this._paused = false;\n  }\n\n  reset() {\n    this._index = 0;\n  }\n\n  next() {\n    const cell = this._cells[this._index];\n\n    if(!this._paused) {\n      this._index += 1;\n      if(this._index >= this._cells.length) {\n        if(this._loop) {\n          this._index = 0;\n\n        } else {\n          this._index = this._cells.length - 1;\n        }\n      }\n    }\n\n    return cell;\n  }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/Animation.ts","import { SpriteSheet } from './SpriteSheet';\nexport interface ISpriteSheetImport {\n  type: 'spritesheet';\n  name: string;\n  path: string;\n  cell_width: number;\n  cell_height: number;\n};\n\nexport type IImport = ISpriteSheetImport;\n\nexport type IAsset = SpriteSheet;\n\nexport class AssetLibrary {\n  private _assets: {[path: string]: IAsset};\n  private _awaiting: {[path: string]: Promise<IAsset>};\n\n  constructor() {\n    this._assets = {};\n    this._awaiting = {};\n  }\n\n  preload(reqs: IImport[]): Promise<IAsset[]> {\n    return Promise.all(reqs.map(req => this.load(req)));\n  }\n\n  fetch(name: string): Promise<IAsset> {\n    if(name in this._assets) {\n      return Promise.resolve<IAsset>(this._assets[name]);\n\n    } else if(name in this._awaiting) {\n      return this._awaiting[name];\n\n    } else {\n      throw new Error(`asset \"${name}\" not found`);\n    }\n  }\n\n  private load(req: IImport): Promise<IAsset> {\n    switch(req.type) {\n      case 'spritesheet':\n        const promise = new Promise<IAsset>((resolve, reject) => {\n          const img = new Image();\n          img.onerror = () => reject(new Error(`image \"${req.path}\" failed to load`));\n          img.onload = () => {\n            resolve(new SpriteSheet(req.name, img, req.cell_width, req.cell_height));\n          };\n          img.src = req.path;\n        });\n          \n        this._awaiting[req.name] = promise;\n        return promise;\n\n      default:\n        throw new Error(`invalid asset type \"${req.type}\"`);\n    }\n  }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/AssetLibrary.ts","export type IKeyboardHandler = () => void;\n\nexport class Keyboard {\n  static ARROW_LEFT = 37;\n  static ARROW_UP = 38;\n  static ARROW_RIGHT = 39;\n  static ARROW_DOWN = 40;\n  static SPACE = 32;\n\n  private _handlers: Map<number, IKeyboardHandler>;\n\n  constructor() {\n    this._handlers = new Map();\n  }\n\n  onPress(key: number, callback: IKeyboardHandler) {\n    this._handlers.set(key, callback);\n  }\n\n  bind(doc: Document) {\n    doc.onkeydown = (e: KeyboardEvent) => {\n      console.log('pressed', e.which);\n      const key = e.which;\n      const callback = this._handlers.get(key);\n      if(callback) {\n        callback();\n      }\n    };\n  }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/Keyboard.ts","import { SpriteSheetCell } from './SpriteSheetCell';\n\nexport class SpriteSheet {\n  readonly name: string;\n  private _img: HTMLImageElement;\n  readonly cell_width: number;\n  readonly cell_height: number;\n  readonly width: number;\n  readonly height: number;\n\n  constructor(name: string, img: HTMLImageElement, cell_width: number, cell_height: number) {\n    this.name = name;\n    this._img = img;\n    this.cell_width = cell_width;\n    this.cell_height = cell_height;\n    this.width = img.width / cell_width;\n    this.height = img.height / cell_height;\n\n    if(!(Number.isInteger(this.width) && Number.isInteger(this.height))) {\n      throw new Error(`sprite sheet \"${this.name}\" has mismatched dimensions`);\n    }\n  }\n\n  get(x: number, y: number) {\n    if(x >= this.width || y >= this.height) {\n      throw new Error(`tried to access out-of-bounds sprite ${x}, ${y} from sheet \"${this.name}\"`);\n    }\n\n    return new SpriteSheetCell(this._img, x * this.cell_width, y * this.cell_height, this.cell_width, this.cell_height);\n  }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/SpriteSheet.ts","export class SpriteSheetCell {\n  private _img: HTMLImageElement;\n  private _x: number;\n  private _y: number;\n  private _width: number;\n  private _height: number;\n\n  constructor(img: HTMLImageElement, x: number, y: number, width: number, height: number) {\n    this._img = img;\n    this._x = x;\n    this._y = y;\n    this._width = width;\n    this._height = height;\n  }\n\n  drawTo(canvas: CanvasRenderingContext2D, x: number, y: number) {\n    canvas.drawImage(this._img, this._x, this._y, this._width, this._height, x, y, this._width, this._height);\n  }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/SpriteSheetCell.ts","import { SpriteSheetCell } from './SpriteSheetCell';\nimport { Sprite } from './Sprite';\n\nexport class Tile {\n  private _sprite: Sprite;\n  private _x: number;\n  private _y: number;\n\n  constructor(frame: SpriteSheetCell, x: number, y: number) {\n    this._x = x;\n    this._y = y;\n\n    this._sprite = new Sprite({\n      name: 'tile',\n      id: `tile-${x}-${y}`,\n      x: (x - y) * 40,\n      y: (x + y) * 20,\n      animations: [],\n    });\n\n    this._sprite.setFrame(frame);\n  }\n\n  draw(canvas: CanvasRenderingContext2D, offsx: number = 0, offsy: number = 0) {\n    this._sprite.draw(canvas, offsx, offsy);\n  }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Tile.ts","import { SpriteSheet } from './SpriteSheet';\nimport { Tile } from './Tile';\n\nexport class TileGrid {\n  readonly width: number;\n  readonly height: number;\n  private _x: number;\n  private _y: number;\n  private _tiles: Tile[][];\n\n  // tslint:disable-next-line:cyclomatic-complexity\n  constructor(sheet: SpriteSheet, gx: number, gy: number, width: number, height: number) {\n    this.width = width;\n    this.height = height;\n    this._x = gx;\n    this._y = gy;\n\n    this._tiles = [];\n    for(let y = 0; y < height; y++) {\n      const row = [];\n      for(let x = 0; x < width; x++) {\n        let sprite;\n\n        switch(x) {\n          case 15:\n            sprite = sheet.get(1, 1);\n            break;\n          case 16:\n            sprite = sheet.get(0, 2);\n            break;\n          default:\n            sprite = sheet.get(1, 0);\n        }\n\n        const tile = new Tile(sprite, x, y);\n        row.push(tile);\n      }\n\n      this._tiles.push(row);\n    }\n  }\n\n  move(x: number, y: number) {\n    this._x += x;\n    this._y += y;\n  }\n\n  get(x: number, y: number) {\n    if(x >= this.width || y >= this.height) {\n      throw new Error(`tried to access out-of-bounds cell \"${x}, ${y}\"`);\n    }\n\n    return this._tiles[y][x];\n  }\n\n  draw(canvas: CanvasRenderingContext2D) {\n    for(const row of this._tiles) {\n      for(const cell of row) {\n        cell.draw(canvas, this._x, this._y);\n      }\n    }\n  }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/TileGrid.ts","import { App } from './App';\n\nconst app = new App();\nconst canvas = document.getElementById('canvas');\n\nif(canvas instanceof HTMLCanvasElement) {\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n  app.keyboard.bind(document);\n  app.start(canvas.getContext('2d'), canvas.width, canvas.height)\n\n} else {\n  throw new Error('invalid canvas!');\n}\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","module.exports = [\n\t{\n\t\t\"type\": \"spritesheet\",\n\t\t\"name\": \"woman-walking-north\",\n\t\t\"path\": \"./assets/Woman Walking North.png\",\n\t\t\"cell_width\": 20,\n\t\t\"cell_height\": 50\n\t},\n\t{\n\t\t\"type\": \"spritesheet\",\n\t\t\"name\": \"woman-walking-east\",\n\t\t\"path\": \"./assets/Woman Walking East.png\",\n\t\t\"cell_width\": 20,\n\t\t\"cell_height\": 50\n\t},\n\t{\n\t\t\"type\": \"spritesheet\",\n\t\t\"name\": \"woman-walking-south\",\n\t\t\"path\": \"./assets/Woman Walking South.png\",\n\t\t\"cell_width\": 20,\n\t\t\"cell_height\": 50\n\t},\n\t{\n\t\t\"type\": \"spritesheet\",\n\t\t\"name\": \"woman-walking-west\",\n\t\t\"path\": \"./assets/Woman Walking West.png\",\n\t\t\"cell_width\": 20,\n\t\t\"cell_height\": 50\n\t},\n\t{\n\t\t\"type\": \"spritesheet\",\n\t\t\"name\": \"tiles\",\n\t\t\"path\": \"./assets/Tiles.png\",\n\t\t\"cell_width\": 78,\n\t\t\"cell_height\": 40\n\t},\n\t{\n\t\t\"type\": \"spritesheet\",\n\t\t\"name\": \"man-walking-north\",\n\t\t\"path\": \"./assets/Man Walking North.png\",\n\t\t\"cell_width\": 20,\n\t\t\"cell_height\": 50\n\t},\n\t{\n\t\t\"type\": \"spritesheet\",\n\t\t\"name\": \"man-walking-east\",\n\t\t\"path\": \"./assets/Man Walking East.png\",\n\t\t\"cell_width\": 20,\n\t\t\"cell_height\": 50\n\t},\n\t{\n\t\t\"type\": \"spritesheet\",\n\t\t\"name\": \"man-walking-south\",\n\t\t\"path\": \"./assets/Man Walking South.png\",\n\t\t\"cell_width\": 20,\n\t\t\"cell_height\": 50\n\t},\n\t{\n\t\t\"type\": \"spritesheet\",\n\t\t\"name\": \"man-walking-west\",\n\t\t\"path\": \"./assets/Man Walking West.png\",\n\t\t\"cell_width\": 20,\n\t\t\"cell_height\": 50\n\t}\n];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/data/assets.json\n// module id = 10\n// module chunks = 0"],"sourceRoot":""}